{"version":3,"sources":["../../../../../modules/@angular/animation/src/dsl/animation_transition_factory.ts"],"names":[],"mappings":"AAUA,OAAO,EAAA,uBAAE,EAAuB,MAAA,8BAAA,CAAA;AAEhC,OAAO,EAAiC,2BAAA,EAA4B,MAAA,oCAAA,CAAA;AACpE;IAEA;;;;;OAKG;IACH,oCAHc,YAAc,EAAQ,GAAK,EAC3B,QAA8B,EAC9B,YAA8C;QAF9C,iBAAA,GAAA,YAAA,CAAc;QACd,aAAA,GAAA,QAAA,CAA8B;QAC9B,iBAAA,GAAA,YAAA,CAA8C;QAKxD,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC,SAAS,CAAC;IACrC,CAAC;IACH;;;;OAIG;IACH,0CARG,GAQH,UARG,YAAA,EAAA,SAAA;QASC,EAAE,CAAC,CAAC,CARC,yBAAC,CAAyB,IAAC,CAAI,QAAC,EAAS,YAAA,EAAc,SAAA,CAAU,CAAC;YAAC,MAAA,CAAA;QAUxE,IAAM,gBAAgB,CARhB,iBAAA,GAAoB,IAAA,CAAK,YAAC,CAAY,GAAC,CAAG,IAAI,EAAA,CAAG;QASvD,IAAM,gBAAgB,CARhB,kBAAA,GAAqB,IAAA,CAAK,YAAC,CAAY,YAAC,CAAY,IAAI,iBAAA,CAAkB;QAShF,IAAM,gBAAgB,CARhB,eAAA,GAAkB,IAAA,CAAK,YAAC,CAAY,SAAC,CAAS,IAAI,iBAAA,CAAkB;QAU1E,IAAM,gBAAgB,CARhB,SAAA,GASF,uBAAuB,CARC,IAAC,CAAI,aAAC,EAAc,kBAAA,EAAoB,eAAA,CAAgB,CAAC;QAUrF,MAAM,CARC,2BAAA,CASH,IAAI,CARC,YAAC,EAAa,SAAA,KAAc,MAAA,EAAQ,kBAAA,EAAoB,eAAA,EAAiB,SAAA,CAAU,CAAC;IAS/F,CAAC;IACH,iCAAC;AAAD,CAhCA,AAgCC,IAAA;;AAED;IACA,gBAAgB;IAChB,0BAA0B,CAAC,SAAS,CAAC,aAAa,CAAC;IACnD,gBAAgB;IAChB,0BAA0B,CAAC,SAAS,CAAC,YAAY,CAAC;IAClD,gBAAgB;IAChB,0BAA0B,CAAC,SAAS,CAAC,QAAQ,CAAC;IAC9C,gBAAgB;IAChB,0BAA0B,CAAC,SAAS,CAAC,YAAY,CAAC;AAClD,CAAC;AAED;;;;;GAKG;AACH,mCACI,QAA+B,EAAE,YAAiB,EAAE,SAAc;IACpE,MAAM,CAzBC,QAAA,CAAS,IAAC,CAAI,UAAA,EAAC,IAAK,OAAA,EAAA,CAAG,YAAC,EAAa,SAAA,CAAU,EAA3B,CAA2B,CAAC,CAAC;AA0B1D,CAAC","file":"animation_transition_factory.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {TransitionFactory} from '@angular/core';\nimport {StyleData} from '../common/style_data';\nimport {AnimationMetadata, AnimationTransitionMetadata} from './animation_metadata';\nimport {buildAnimationKeyframes} from './animation_timeline_visitor';\nimport {TransitionMatcherFn} from './animation_transition_expr';\nimport {AnimationTransitionInstruction, createTransitionInstruction} from './animation_transition_instruction';\nexport class AnimationTransitionFactory implements TransitionFactory {\nprivate _animationAst: AnimationMetadata;\n/**\n * @param {?} _triggerName\n * @param {?} ast\n * @param {?} matchFns\n * @param {?} _stateStyles\n */\nconstructor(\nprivate _triggerName: string, ast: AnimationTransitionMetadata,\nprivate matchFns: TransitionMatcherFn[],\nprivate _stateStyles: {[stateName: string]: StyleData}) {\n    this._animationAst = ast.animation;\n  }\n/**\n * @param {?} currentState\n * @param {?} nextState\n * @return {?}\n */\nmatch(currentState: any, nextState: any): AnimationTransitionInstruction {\n    if (!oneOrMoreTransitionsMatch(this.matchFns, currentState, nextState)) return;\n\n    const /** @type {?} */ backupStateStyles = this._stateStyles['*'] || {};\n    const /** @type {?} */ currentStateStyles = this._stateStyles[currentState] || backupStateStyles;\n    const /** @type {?} */ nextStateStyles = this._stateStyles[nextState] || backupStateStyles;\n\n    const /** @type {?} */ timelines =\n        buildAnimationKeyframes(this._animationAst, currentStateStyles, nextStateStyles);\n\n    return createTransitionInstruction(\n        this._triggerName, nextState === 'void', currentStateStyles, nextStateStyles, timelines);\n  }\n}\n\nfunction AnimationTransitionFactory_tsickle_Closure_declarations() {\n/** @type {?} */\nAnimationTransitionFactory.prototype._animationAst;\n/** @type {?} */\nAnimationTransitionFactory.prototype._triggerName;\n/** @type {?} */\nAnimationTransitionFactory.prototype.matchFns;\n/** @type {?} */\nAnimationTransitionFactory.prototype._stateStyles;\n}\n\n/**\n * @param {?} matchFns\n * @param {?} currentState\n * @param {?} nextState\n * @return {?}\n */\nfunction oneOrMoreTransitionsMatch(\n    matchFns: TransitionMatcherFn[], currentState: any, nextState: any): boolean {\n  return matchFns.some(fn => fn(currentState, nextState));\n}\n"]}