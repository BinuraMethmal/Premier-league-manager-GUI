{"version":3,"sources":["../../../../../modules/@angular/animation/src/common/util.ts"],"names":[],"mappings":"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","file":"util.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {AnimationStyles} from '@angular/core';\nimport {AnimateTimings} from './../dsl/animation_metadata';\nimport {StyleData} from './style_data';\n\nexport const /** @type {?} */ ONE_SECOND = 1000;\n/**\n * @param {?} exp\n * @param {?} errors\n * @return {?}\n */\nexport function parseTimeExpression(exp: string | number, errors: string[]): AnimateTimings {\n  const /** @type {?} */ regex = /^([\\.\\d]+)(m?s)(?:\\s+([\\.\\d]+)(m?s))?(?:\\s+([-a-z]+(?:\\(.+?\\))?))?$/i;\n  let /** @type {?} */ duration: number;\n  let /** @type {?} */ delay: number = 0;\n  let /** @type {?} */ easing: string = null;\n  if (typeof exp === 'string') {\n    const /** @type {?} */ matches = exp.match(regex);\n    if (matches === null) {\n      errors.push(`The provided timing value \"${exp}\" is invalid.`);\n      return {duration: 0, delay: 0, easing: null};\n    }\n\n    let /** @type {?} */ durationMatch = parseFloat(matches[1]);\n    const /** @type {?} */ durationUnit = matches[2];\n    if (durationUnit == 's') {\n      durationMatch *= ONE_SECOND;\n    }\n    duration = Math.floor(durationMatch);\n\n    const /** @type {?} */ delayMatch = matches[3];\n    const /** @type {?} */ delayUnit = matches[4];\n    if (delayMatch != null) {\n      let /** @type {?} */ delayVal: number = parseFloat(delayMatch);\n      if (delayUnit != null && delayUnit == 's') {\n        delayVal *= ONE_SECOND;\n      }\n      delay = Math.floor(delayVal);\n    }\n\n    const /** @type {?} */ easingVal = matches[5];\n    if (easingVal) {\n      easing = easingVal;\n    }\n  } else {\n    duration = /** @type {?} */(( <number>exp));\n  }\n\n  return {duration, delay, easing};\n}\n/**\n * @param {?} styles\n * @return {?}\n */\nexport function normalizeStyles(styles: AnimationStyles): StyleData {\n  const /** @type {?} */ normalizedStyles: StyleData = {};\n  styles.styles.forEach((styleMap: any) => copyStyles(styleMap, false, normalizedStyles));\n  return normalizedStyles;\n}\n/**\n * @param {?} styles\n * @param {?} readPrototype\n * @param {?=} destination\n * @return {?}\n */\nexport function copyStyles(\n    styles: StyleData, readPrototype: boolean, destination: StyleData = {}): StyleData {\n  if (readPrototype) {\n    // we make use of a for-in loop so that the\n    // prototypically inherited properties are\n    // revealed from the backFill map\n    for (let /** @type {?} */ prop in styles) {\n      destination[prop] = styles[prop];\n    }\n  } else {\n    Object.keys(styles).forEach(prop => destination[prop] = styles[prop]);\n  }\n  return destination;\n}\n"]}